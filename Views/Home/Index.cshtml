@model IEnumerable<Lab4_Cs.Models.BlogPost>
@using Microsoft.AspNetCore.Http;
@{
    //ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@if (Model == null || Model.Count() == 0)
{
    <p><h4>Currently, there are no blogs to display.</h4></p>
}
else
{


    @foreach (var item in Model)
    {
        <br></br>
        <div class="card w-100 p-3 mb-2 bg-light text-dark">
            @if (2 == Context.Session.GetInt32("Roleid"))
            {
                <div class="card-header">
                    <h3>
                        <a asp-controller="Home" asp-action="DisplayFullBlogPost" asp-route-id="@item.BlogPostId">@item.Title</a>
                    </h3>
                    <h6>
                        (<a asp-controller="Home" asp-action="EditBlogPost" asp-route-id="@item.BlogPostId">Edit</a> |
                        <a onclick="return confirm('Make sure to delete?')" asp-controller="Home" asp-action="DeleteBlog" asp-route-id="@item.BlogPostId">Delete</a> )
                    </h6>
                </div>
                <div class="card-body">
                    <p class="card-text"><h5>@item.Content</h5></p>
                </div>
                <div class="card-footer"><h6>Posted on: @item.Posted</h6></div>
            }
            else
            {
                <div class="card-header"><h3><a asp-controller="Home" asp-action="DisplayFullBlogPost" asp-route-id="@item.BlogPostId">@item.Title</a></h3></div>
                <div class="card-body">
                    <p class="card-text"><h5>@item.Content</h5></p>
                </div>
                <div class="card-footer"><h6>Posted on: @item.Posted</h6></div>
            }

        </div>
    }
    @***IMPORTANT***********(<a asp-controller="Home" asp-action="EditBlog" asp-route-id="@item.BlogPostId">Edit</a> |
        <a onclick="return confirm('Make sure to delete?')" asp-controller="Home" asp-action="DeleteBlog" asp-route-id="@item.BlogPostId">Delete</a> )

                        <td>
                            <a asp-controller="Home" asp-action="EditMovie" asp-route-id="@item.MovieId">Edit</a>&nbsp;&nbsp;
                        </td>
                        <td>
                            <a onclick="return confirm('Make sure to delete?')" asp-controller="Home" asp-action="DeleteMovie" asp-route-id="@item.MovieId">Delete</a>&nbsp;&nbsp;-&nbsp;&nbsp;
                        </td>*@

}
</br>